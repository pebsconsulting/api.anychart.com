<!DOCTYPE html>
<html>
<head>
    <meta name="ac:name" content="anychart.format.Context.getData gantt"/>
    <meta name="ac:short-desc" content=""/>
    <meta name="ac:desc" content=""/>

    <script src="https://cdn.anychart.com/releases/8.0.1/js/anychart-base.min.js"></script>
    <script src="https://cdn.anychart.com/releases/8.0.1/js/anychart-gantt.min.js"></script>
    <script src="https://cdn.anychart.com/releases/8.0.1/js/anychart-exports.min.js"></script>
    <script src="https://cdn.anychart.com/releases/8.0.1/js/anychart-ui.min.js"></script>

    <link rel="stylesheet" type="text/css" href="https://cdn.anychart.com/releases/8.0.1/css/anychart-ui.min.css"/>

    <style>
        html, body, #container {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
<div id="container"></div>
<script>
    anychart.onDocumentReady(function () {
        var data = getData();

        var chart = anychart.ganttResource();
        chart.data(data, "as-table");

        var tooltip = chart.getTimeline().tooltip();
        tooltip.format(function () {

            // Get data.
            var result = this.getData("periods", this.periodIndex, "state");

            return result === void 0 ? "No state specified" : result;
        });

        chart.title("Get Gantt Resource data using several parameters");
        chart.container("container");
        chart.draw();
        chart.fitAll();

        function getData() {
            return [
                {
                    "id": "1",
                    "name": "Server 1",
                    "broken": "11%",
                    "maintance": "20%",
                    "working": "69%",
                    "periods": [
                        {
                            "id": "1_1",
                            "style": "working",
                            "fill": "#008000 0.7",
                            "stroke": "none",
                            "hoverFill": "green",
                            "hoverStroke": "cyan",
                            "start": 1201795200000,
                            "end": 1201934691000,
                            "state": "Alaska"
                        },
                        {
                            "id": "1_2",
                            "style": "maintance",
                            "fill": "#FFFF00 0.7",
                            "stroke": "none",
                            "hoverFill": "yellow",
                            "hoverStroke": "cyan",
                            "start": 1201934691000,
                            "end": 1201997175000,
                            "state": "Idaho"
                        },
                        {
                            "id": "1_3",
                            "style": "working",
                            "fill": "#008000 0.7",
                            "stroke": "none",
                            "hoverFill": "green",
                            "hoverStroke": "cyan",
                            "start": 1201997175000,
                            "end": 1202304539000,
                            "state": "Arizona"
                        },
                    ]
                },
                {
                    "id": "2",
                    "name": "Server 2",
                    "broken": "9%",
                    "maintance": "25%",
                    "working": "66%",
                    "periods": [
                        {
                            "id": "2_1",
                            "style": "working",
                            "fill": "#008000 0.7",
                            "stroke": "none",
                            "hoverFill": "green",
                            "hoverStroke": "cyan",
                            "start": 1201795200000,
                            "end": 1201859302000,
                            "state": "Virginia"
                        },
                        {
                            "id": "2_2",
                            "style": "working",
                            "fill": "#008000 0.7",
                            "stroke": "none",
                            "hoverFill": "red",
                            "hoverStroke": "cyan",
                            "start": 1201859302000,
                            "end": 1201908412000,
                            "state": "Illinois"
                        },
                        {
                            "id": "2_3",
                            "style": "working",
                            "fill": "#008000 0.7",
                            "stroke": "none",
                            "hoverFill": "green",
                            "hoverStroke": "cyan",
                            "start": 1201908412000,
                            "end": 1201974133000,
                            "state": "California"
                        },
                        {
                            "id": "2_4",
                            "style": "maintance",
                            "fill": "#FFFF00 0.7",
                            "stroke": "none",
                            "hoverFill": "yellow",
                            "hoverStroke": "cyan",
                            "start": 1201974133000,
                            "end": 1202028840000,
                            "state": "Colorado"
                        },
                    ]
                }
            ];
        }
    });
</script>
</body>
</html>